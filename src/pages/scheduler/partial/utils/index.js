/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const D=require("@progress/kendo-date-math"),f=require("../views/common/utils.js"),T=require("@progress/kendo-react-common"),I=require("@progress/kendo-data-query"),F=e=>e[0],S=e=>e[e.length-1],R=e=>{const r=new Set;return e.forEach(s=>{r.add(s.field)}),r.size===e.length};function A(e,r,s,t){const n={skeleton:"yMMMMEEEEdhm"},o={skeleton:"yMMMMEEEEd"};return t?`${e.formatDate(r,o)}`:`${e.formatDate(r,n)}–${e.formatDate(s,"t")}`}const H=()=>D.getDate(new Date),h=(e,r,s,t=0)=>{if(t===s)return null;let n=null;const o=document.elementFromPoint(e,r);if(!o)return n;if(o.getAttribute("data-slot")==="true")return o;{const d=o.style.pointerEvents;o.style.pointerEvents="none",n=h(e,r,s,t+1),o.style.pointerEvents=d}return n},l=(e,r)=>T.getter(r)(e),v=(e,r,s)=>{if(r)return T.setter(r)(e,s)},k=e=>e!=null;function b(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}const G=(e,r,s)=>{const t=E(e,r)?l(e,r.id):l(e,r.recurrenceId);return s.find(n=>l(n,r.id)===t)},E=(e,r)=>{const s=l(e,r.id),t=l(e,r.recurrenceId),n=l(e,r.recurrenceRule);return!!(s&&n&&t==null)},m=(e,r)=>Math.max(e.getTime(),r.getTime()),M=(e,r)=>Math.min(e.getTime(),r.getTime()),p=(e,r,s,t,n=!1)=>n?m(r,t)-M(e,s)<=r.getTime()-e.getTime()+(t.getTime()-s.getTime()):m(r,t)-M(e,s)<r.getTime()-e.getTime()+(t.getTime()-s.getTime()),y={id:"id",start:"start",startTimezone:"startTimezone",originalStart:"originalStart",end:"end",endTimezone:"endTimezone",isAllDay:"isAllDay",title:"title",description:"description",recurrenceRule:"recurrenceRule",recurrenceId:"recurrenceId",recurrenceExceptions:"recurrenceExceptions"},N=e=>({fields:{...y,...e}}),z=(e,r,s)=>(r.getHours()<e.getHours()||r.getHours()===e.getHours()&&r.getMinutes()<=e.getMinutes())&&(e.getHours()<s.getHours()||s.getHours()===e.getHours()&&e.getMinutes()<s.getMinutes()),O=(e,r,s)=>r<s?r<=e&&e<=s:e<=s||r<=e,P=(e,r)=>{const s=f.toGroupResources(e,r),t=f.toFlatGroupResources(s);return t.length===1?[{index:0,resources:(r||[]).reduce((n,o)=>[...n,...o.data.map(i=>({...i,field:o.field,valueField:o.valueField,colorField:o.colorField,multiple:o.multiple}))],[])}]:t.map((n,o)=>({index:o,resources:n}))},x=e=>e==null,q=e=>x(e)||e.trim&&e.trim().length===0,g=e=>{let r=0;const s=e.slice();return s.sort((t,n)=>t-n).forEach((t,n)=>{s[n]===n&&(r=n+1)}),r},B=(e,r,s,t=!1)=>{let n;return s.forEach(o=>{const i=[];r.sort((u,c)=>u.props.start.getTime()-c.props.start.getTime()).forEach(u=>{if((t||u.props.isAllDay===o.current.props.isAllDay)&&u.props.range.index===o.current.props.range.index&&u.props.group.index===o.current.props.group.index&&p(u.props.start,u.props.end,o.current.props.start,o.current.props.end)){const a=g(i);u===e&&n===void 0&&(n=a),i.splice(a,0,a)}})}),n},C=(e,r,s=!1)=>{r.forEach(t=>t.items.splice(0,t.items.length)),r.forEach(t=>{const n=[];e.forEach(o=>{if((s||o.isAllDay===t.isAllDay)&&o.range.index===t.range.index&&o.group.index===t.group.index&&p(o.start,o.end,t.start,t.end)){const d=g(n);(o.order===null||o.order===void 0||o.order<d)&&(o.order=d),n.splice(o.order,0,o.order),t.items.push(o)}})})},w=(e,r,s=!1)=>{e.forEach(t=>t.slots.splice(0,t.slots.length)),e.forEach(t=>{r.forEach(n=>{(s||t.isAllDay===n.isAllDay)&&t.range.index===n.range.index&&t.group.index===n.group.index&&p(t.start,t.end,n.start,n.end)&&t.slots.push(n)})})},U=(...e)=>{},_=e=>{const r=e.props.items.find(s=>s.order===0)||e.props.items[0];return r&&r._ref.current},$=(e,r,s=!1,t=!1)=>{const n=e.current;if(!n||!r)return null;const o=r.filter(c=>c.current!==null&&c.current.element!==null),i=I.orderBy(o,[{field:"current.props.group.index",dir:"asc"},{field:"current.props.range.index",dir:"asc"},s?{field:""}:{field:"current.props.isAllDay",dir:"desc"},{field:"current.props.start",dir:"asc"}]),d=i.findIndex(c=>c.current!==null&&!!(c.current.props.uid===n.props.uid&&(c.current.props.occurrenceId===void 0||c.current.props.occurrenceId===n.props.occurrenceId)&&c.current.props.group.index===n.props.group.index&&c.current.props.range.index===n.props.range.index&&(s||c.current.props.isAllDay===n.props.isAllDay)));return i[d+(t?-1:1)]},j=(e,r)=>(e.order||0)-(r.order||0);exports.calculateOrder=B;exports.defaultModelFields=y;exports.findFirstItem=_;exports.findMaster=G;exports.findMissing=g;exports.findNextItem=$;exports.first=F;exports.formatEventTime=A;exports.getField=l;exports.getModelFields=N;exports.getToday=H;exports.intersects=p;exports.isBlank=x;exports.isGroupped=R;exports.isInDaysRange=O;exports.isInTimeRange=z;exports.isMaster=E;exports.isNullOrEmptyString=q;exports.isPresent=k;exports.last=S;exports.mapItemsToSlots=w;exports.mapSlotsToItems=C;exports.noop=U;exports.orderSort=j;exports.setField=v;exports.slotDive=h;exports.toSchedulerGroups=P;exports.toUTCDateTime=b;
