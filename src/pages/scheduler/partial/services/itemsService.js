/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const h=require("react"),A=require("../utils/index.js"),O=require("@progress/kendo-data-query"),r=require("@progress/kendo-date-math");function c(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const l in e)if(l!=="default"){const a=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(t,l,a.get?a:{enumerable:!0,get:()=>e[l]})}}return t.default=e,Object.freeze(t)}const f=c(h),j=(e,{timezone:t},{groups:l,ranges:a})=>{const s=[];return O.orderBy(e,[{field:"start",dir:"asc"},{field:"end",dir:"desc"},{field:"isAllDay",dir:"desc"}]).forEach(i=>{l.forEach(d=>{const o=l.length===1?E(i,d):d;u(i,o)&&a.forEach(n=>{if(m(i,n)){const p=f.createRef(),D=f.createRef(),y=n.end<i.end,R=i.start<n.start,v=r.ZonedDate.fromLocalDate(i.start,t),b=r.ZonedDate.fromLocalDate(i.end,t),I={...i,_ref:D,itemRef:p,head:y,tail:R,order:null,zonedStart:v,zonedEnd:b,group:o,range:n,slots:[],isRecurring:!!i.recurrenceRule,isException:!i.recurrenceRule&&i.recurrenceId!==null&&i.recurrenceId!==void 0,isAllDay:!!i.isAllDay};s.push(I)}})})}),s},E=(e,t)=>({index:0,resources:t.resources.filter(l=>S(e,l))}),S=(e,t)=>t.multiple?(e.dataItem[t.field]||[]).some(l=>t[t.valueField]===l):e.dataItem[t.field]===t[t.valueField],u=(e,t)=>!t.resources.some(l=>l.multiple?!e.dataItem[l.field].some(a=>l[l.valueField]===a):e.dataItem[l.field]!==l[l.valueField]),m=(e,t)=>A.intersects(t.start,t.end,e.start,e.end)&&(t.isAllDay===void 0||e.isAllDay===void 0||e.isAllDay===t.isAllDay);exports.inGroup=u;exports.inRange=m;exports.toItems=j;
