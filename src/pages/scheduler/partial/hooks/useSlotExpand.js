/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const R=require("react"),p=require("../views/common/utils.js"),_=require("../constants/index.js"),x=require("@progress/kendo-react-common"),y=require("../context/SchedulerContext.js");function E(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const c in e)if(c!=="default"){const i=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(t,c,i.get?i:{enumerable:!0,get:()=>e[c]})}}return t.default=e,Object.freeze(t)}const o=E(R),O=(e,t)=>{const c=o.useRef(),i=o.useRef(0),d=y.useSchedulerElementContext(),g=()=>{if(!e.current)return;const n=e.current.element;n&&(i.current=n.clientHeight)},l=o.useCallback(()=>{if(!t||!e.current)return;const n=e.current.element,h=e.current.props;if(!n)return;const f=p.getPadding(n);let r=0;const s=h.items.filter(a=>a._ref.current);s.forEach(a=>{if(!a._ref.current)return;const{height:b}=p.getRect(a._ref.current.element);r+=b});const u=s.length*_.BORDER_WIDTH*2+r-(f||0)+(typeof t=="object"&&t.offsetTop?t.offsetTop:0)+(typeof t=="object"&&t.offsetBottom?t.offsetBottom:0);s.length?u>i.current-f&&p.setRect(n,{height:u},!0):n&&(n.style.minHeight="")},[t,e]),m=o.useCallback(()=>{c.current!==void 0&&window.cancelAnimationFrame(c.current),c.current=window.requestAnimationFrame(()=>{l()})},[l]);x.useIsomorphicLayoutEffect(g,[]),o.useEffect(l,[e,e.current&&e.current.props,t]),o.useEffect(()=>{if(!e.current)return;const f=e.current.props.items.filter(r=>r._ref.current).map(r=>{if(!r._ref.current||!r._ref.current.element||!d.current)return;const s=window.ResizeObserver,u=s&&new s(m);return u&&u.observe(r._ref.current.element),()=>{u&&u.disconnect()}});return()=>{f.forEach(r=>r&&r())}},[m,d,e])};exports.useSlotExpand=O;
